# TrackPose Environment Variables Example
# Copy this to .env and fill in your actual values
# NEVER commit .env to version control

# ============================================================================
# DATABASE
# ============================================================================
# For local development with Docker Compose:
DATABASE_URL="mysql://trackpose:trackpose_password@localhost:3306/trackpose"

# For Render production (get from Render Database dashboard):
# DATABASE_URL="mysql://user:password@host:port/database"

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
JWT_SECRET="<GENERATE_RANDOM_64_CHAR_STRING>"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# ============================================================================
# STRIPE PAYMENTS
# ============================================================================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Get from https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Price IDs (create products in Stripe Dashboard)
STRIPE_PRICE_TRIAL="price_..."
STRIPE_PRICE_STANDARD="price_..."
STRIPE_PRICE_PREMIUM="price_..."
STRIPE_PRICE_ENTERPRISE="price_..."

# ============================================================================
# OBJECT STORAGE (S3 or Render Object Storage)
# ============================================================================
# Option A: AWS S3
S3_BUCKET="trackpose-storage"
S3_REGION="us-east-1"
S3_ACCESS_KEY_ID="AKIA..."
S3_SECRET_ACCESS_KEY="..."
# S3_ENDPOINT=""  # Leave empty for AWS S3

# Option B: Render Object Storage (if available)
# S3_BUCKET="trackpose-storage"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID="<from Render>"
# S3_SECRET_ACCESS_KEY="<from Render>"
# S3_ENDPOINT="https://<region>.storage.render.com"

# ============================================================================
# EMAIL (SendGrid)
# ============================================================================
# Get from https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY="SG...."
EMAIL_FROM="noreply@trackpose.com"
EMAIL_FROM_NAME="TrackPose"

# Alternative: SMTP (if not using SendGrid)
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_USER="your-email@gmail.com"
# SMTP_PASSWORD="your-app-password"

# ============================================================================
# MICROSERVICES
# ============================================================================
# Backend to Media service communication
MEDIA_SERVICE_URL="http://localhost:8000"  # Local dev
# MEDIA_SERVICE_URL="https://trackpose-media.onrender.com"  # Production

# Secure callback secret (shared between backend and media service)
CALLBACK_SECRET="<GENERATE_RANDOM_32_CHAR_STRING>"

# Processing mode: "local" or "remote"
PROCESSING_MODE="local"  # Use "remote" in production

# ============================================================================
# FRONTEND / MOBILE APP
# ============================================================================
FRONTEND_URL="http://localhost:3000"
# FRONTEND_URL="https://trackpose.com"  # Production

# Mobile app deep link base
APP_SCHEME="trackpose"
APP_HOST="app"

# ============================================================================
# APPLICATION
# ============================================================================
NODE_ENV="development"  # "production" in Render
PORT="3000"
BACKEND_PORT="3000"
MEDIA_PORT="8000"

# Enable/disable features
ENABLE_SWAGGER="true"  # Set to "false" in production for security
ENABLE_RATE_LIMITING="false"  # Set to "true" in production
ENABLE_REQUEST_LOGGING="true"

# ============================================================================
# SECURITY
# ============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS="http://localhost:3000,http://localhost:8080"
# CORS_ORIGINS="https://trackpose.com,https://app.trackpose.com"  # Production

# Session
SESSION_SECRET="<GENERATE_RANDOM_32_CHAR_STRING>"

# Password reset token expiry (in seconds)
PASSWORD_RESET_EXPIRY="3600"  # 1 hour

# Email verification code expiry (in seconds)
EMAIL_VERIFICATION_EXPIRY="900"  # 15 minutes

# ============================================================================
# TRIAL LIMITS (Server-side enforcement)
# ============================================================================
TRIAL_MAX_PROFILES="1"
TRIAL_MAX_FACILITIES="1"
TRIAL_MAX_SESSIONS="1"
TRIAL_MAX_STORAGE_MB="100"

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_LIVE_MONITORING="true"
FEATURE_AI_INSIGHTS="true"
FEATURE_NOTIFICATIONS="true"
FEATURE_REPORTS="true"

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL="info"  # "debug", "info", "warn", "error"
SENTRY_DSN=""  # Optional: Add Sentry DSN for error tracking

# ============================================================================
# RENDER-SPECIFIC (Set in Render Dashboard)
# ============================================================================
# These are automatically set by Render:
# RENDER="true"
# RENDER_SERVICE_NAME="trackpose-backend"
# RENDER_INSTANCE_ID="..."
# RENDER_GIT_COMMIT="..."

# Manual settings for Render:
RUN_MIGRATIONS="false"  # Set to "true" only for initial deploy or when migrations needed

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================
# Prisma Studio
PRISMA_STUDIO_PORT="5555"

# Debug mode
DEBUG="false"
